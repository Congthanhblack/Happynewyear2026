<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Happy New Year - G·ª≠i B√© Chinh</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Pangolin&family=Playball&display=swap" rel="stylesheet">

<style>
    :root {
        --primary-color: #ff0055;
        --gold-color: #ffd700;
        --scroll-bg: #a60000;
    }

    body {
        margin: 0;
        background: radial-gradient(circle at center, #2e0000 0%, #000000 100%);
        overflow: hidden;
        font-family: 'Pangolin', sans-serif;
        height: 100vh;
        width: 100vw;
    }

    /* --- CANVAS N·ªÄN --- */
    canvas {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
    }

    /* --- UI CONTAINER --- */
    #ui-layer {
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 10;
        pointer-events: none; /* ƒê·ªÉ ko ch·∫∑n click canvas */
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 2vw; /* Kho·∫£ng c√°ch 2 b√™n l·ªÅ */
        box-sizing: border-box;
    }

    /* --- C√ÇU ƒê·ªêI (SCROLLS) --- */
    .scroll-banner {
        position: relative;
        width: clamp(50px, 12vw, 90px); /* Responsive width */
        height: clamp(300px, 70vh, 600px);
        background: linear-gradient(to right, #800000, #b30000, #800000);
        border: 2px solid var(--gold-color);
        border-radius: 5px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0; /* ·∫®n ban ƒë·∫ßu */
        transform: scaleY(0); /* Hi·ªáu ·ª©ng cu·ªôn d·ªçc */
        transition: all 1.5s ease-in-out;
    }

    /* Tr·ª•c cu·ªën tr√™n d∆∞·ªõi c·ªßa c√¢u ƒë·ªëi */
    .scroll-banner::before, .scroll-banner::after {
        content: '';
        position: absolute;
        width: 120%;
        height: 25px;
        background: linear-gradient(to right, #d4af37, #ffd700, #d4af37);
        border-radius: 15px;
        left: -10%;
        box-shadow: 0 5px 10px rgba(0,0,0,0.5);
    }
    .scroll-banner::before { top: -15px; }
    .scroll-banner::after { bottom: -15px; }

    /* N·ªôi dung c√¢u ƒë·ªëi */
    .scroll-content {
        writing-mode: vertical-rl; /* Vi·∫øt d·ªçc */
        text-orientation: upright;
        color: var(--gold-color);
        font-family: 'Playball', cursive;
        font-size: clamp(16px, 2.5vh, 28px);
        letter-spacing: 5px;
        text-shadow: 1px 1px 2px #000;
        line-height: 1.5;
    }

    /* --- N·ªòI DUNG GI·ªÆA TIM --- */
    .center-message {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        z-index: 20;
        opacity: 0;
        transition: opacity 2s ease;
        width: 100%;
        pointer-events: none;
    }

    .main-name {
        font-family: 'Great Vibes', cursive;
        font-size: clamp(40px, 10vw, 90px);
        color: #fff;
        text-shadow: 0 0 10px var(--primary-color), 0 0 20px var(--primary-color), 0 0 40px var(--primary-color);
        margin: 0;
        padding-bottom: 10px;
        animation: glow 2s infinite alternate;
    }

    .sub-msg {
        font-family: 'Pangolin', sans-serif;
        color: #ffccd5;
        font-size: clamp(14px, 4vw, 24px);
        text-shadow: 0 2px 4px rgba(0,0,0,0.8);
        margin-top: -10px;
    }

    /* --- N√öT B·∫§M --- */
    #startBtn {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 15px 40px;
        font-size: 20px;
        background: var(--gold-color);
        color: #a60000;
        border: none;
        border-radius: 50px;
        font-weight: bold;
        cursor: pointer;
        z-index: 100;
        box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
        pointer-events: auto;
        font-family: 'Pangolin', sans-serif;
    }

    /* Animations */
    @keyframes glow {
        from { text-shadow: 0 0 10px #ff0055, 0 0 20px #ff0055; }
        to { text-shadow: 0 0 20px #ff0055, 0 0 40px #ff0055, 0 0 60px #ff0055; }
    }

    .visible {
        opacity: 1 !important;
        transform: scaleY(1) !important;
    }
</style>
</head>
<body>

    <canvas id="canvas"></canvas>

    <button id="startBtn" onclick="initShow()">üéÅ M·ªü Qu√† T·∫∑ng B√© Chinh</button>

    <div id="ui-layer">
        <div class="scroll-banner" id="scrollLeft">
            <div class="scroll-content">
                T·∫øt n√†y v·∫´n gi·ªëng T·∫øt x∆∞a
            </div>
        </div>

        <div class="center-message" id="centerMsg">
            <h1 class="main-name">Y√™u B√© Chinh</h1>
            <p class="sub-msg">NƒÉm m·ªõi vui v·∫ª, m√£i b√™n anh nh√© ‚ù§Ô∏è</p>
        </div>

        <div class="scroll-banner" id="scrollRight">
            <div class="scroll-content">
                V·∫´n ch∆∞a c√≥ v·ª£ v·∫´n ∆∞a Chinh nhi·ªÅu
            </div>
        </div>
    </div>

<script>
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    
    let width, height;
    let particles = [];
    const PARTICLE_COUNT = 700; // TƒÉng s·ªë l∆∞·ª£ng h·∫°t l√™n nhi·ªÅu
    let heartScale = 1;
    let isForming = false;
    let time = 0;

    // Resize v√† cƒÉn ch·ªânh t·ª∑ l·ªá tim
    function resize() {
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;
        // T·ª± ƒë·ªông t√≠nh to√°n scale ƒë·ªÉ tim kh√¥ng qu√° to (che ch·ªØ) ho·∫∑c qu√° nh·ªè
        heartScale = Math.min(width, height) / 40; 
    }
    window.addEventListener('resize', resize);
    resize();

    // --- C√îNG TH·ª®C TIM ---
    function getHeartPosition(t) {
        const x = 16 * Math.pow(Math.sin(t), 3);
        const y = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2*Math.cos(3*t) - Math.cos(4*t));
        return {x, y};
    }

    // --- CLASS PARTICLE ---
    class Particle {
        constructor() {
            this.reset(true); // true = random v·ªã tr√≠ ban ƒë·∫ßu
        }

        reset(randomStart = false) {
            if (randomStart) {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
            } else {
                // N·∫øu reset khi ƒëang ch·∫°y, cho n√≥ xu·∫•t ph√°t t·ª´ t√¢m ƒë·ªÉ n·ªï ra
                this.x = width / 2;
                this.y = height / 2;
            }
            
            this.vx = (Math.random() - 0.5) * 2;
            this.vy = (Math.random() - 0.5) * 2;
            this.size = Math.random() * 2 + 1;
            
            // M√†u s·∫Øc: ƒê·ªè ƒë·∫≠m, ƒë·ªè t∆∞∆°i, h·ªìng, v√†ng cam
            const colors = ['#ff0000', '#ff4d4d', '#ff99cc', '#ffd700', '#ffffff'];
            this.color = colors[Math.floor(Math.random() * colors.length)];
            
            // V·ªã tr√≠ m·ª•c ti√™u tr√™n h√¨nh tr√°i tim
            this.t = Math.random() * Math.PI * 2;
            const pos = getHeartPosition(this.t);
            
            // Random ƒë·ªô d√†y c·ªßa vi·ªÅn tim (ƒë·ªÉ tim tr√¥ng d√†y h∆°n)
            const thickness = Math.random() * 0.5 + 0.8; 
            
            this.baseX = pos.x * heartScale * thickness;
            this.baseY = pos.y * heartScale * thickness;
            
            // T·ªëc ƒë·ªô di chuy·ªÉn v·ªÅ tim
            this.friction = Math.random() * 0.05 + 0.02;
        }

        update(beatScale) {
            if (isForming) {
                // T·ªça ƒë·ªô m·ª•c ti√™u (c√≥ t√≠nh th√™m nh·ªãp ƒë·∫≠p beatScale)
                // D·ªãch Y l√™n m·ªôt ch√∫t (-heartScale * 1.5) ƒë·ªÉ tim n·∫±m ch√≠nh gi·ªØa m√†n h√¨nh h∆°n
                let targetX = (width / 2) + this.baseX * beatScale;
                let targetY = (height / 2) + this.baseY * beatScale - (heartScale * 1.5);

                // Di chuy·ªÉn h·∫°t v·ªÅ m·ª•c ti√™u
                this.x += (targetX - this.x) * this.friction;
                this.y += (targetY - this.y) * this.friction;
            } else {
                // Bay lung tung khi ch∆∞a b·∫•m n√∫t
                this.x += this.vx;
                this.y += this.vy;
                
                if (this.x < 0 || this.x > width) this.vx *= -1;
                if (this.y < 0 || this.y > height) this.vy *= -1;
            }
        }

        draw() {
            ctx.fillStyle = this.color;
            ctx.beginPath();
            // V·∫Ω h√¨nh tim nh·ªè x√≠u
            ctx.moveTo(this.x, this.y);
            ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
            ctx.fill();
        }
    }

    // --- KH·ªûI T·∫†O ---
    for(let i=0; i<PARTICLE_COUNT; i++){
        particles.push(new Particle());
    }

    // --- LOOP ANIMATION ---
    function animate() {
        // T·∫°o hi·ªáu ·ª©ng v·ªát m·ªù (trail effect) cho ƒë·∫πp
        ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
        ctx.fillRect(0, 0, width, height);

        // T·∫°o nh·ªãp tim ƒë·∫≠p (Beat)
        // D√πng h√†m sin theo th·ªùi gian ƒë·ªÉ t·∫°o dao ƒë·ªông scale t·ª´ 1.0 ƒë·∫øn 1.15
        time += 0.03;
        let beat = 1 + Math.sin(time) * 0.05; 
        // L√†m nh·ªãp ƒë·∫≠p gi·∫≠t c·ª•c gi·ªëng tim th·∫≠t h∆°n:
        if (Math.sin(time) > 0.8) beat = 1.1; 

        particles.forEach(p => {
            p.update(beat);
            p.draw();
        });

        requestAnimationFrame(animate);
    }
    animate();

    // --- S·ª∞ KI·ªÜN CLICK ---
    function initShow() {
        document.getElementById("startBtn").style.display = "none";
        isForming = true; // B·∫Øt ƒë·∫ßu x·∫øp h√¨nh

        // TƒÉng t·ªëc ƒë·ªô bay v·ªÅ
        particles.forEach(p => p.friction = 0.08);

        // Hi·ªÉn th·ªã n·ªôi dung sau 1 gi√¢y
        setTimeout(() => {
            document.getElementById("centerMsg").classList.add("visible");
        }, 1200);

        // Hi·ªÉn th·ªã c√¢u ƒë·ªëi sau 1.5 gi√¢y
        setTimeout(() => {
            document.getElementById("scrollLeft").classList.add("visible");
            setTimeout(() => {
                document.getElementById("scrollRight").classList.add("visible");
            }, 600);
        }, 1800);
    }
</script>
</body>
</html>
