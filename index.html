<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>G·ª≠i B√© Chinh üíù</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
:root{
    --gold:#ffd700;
    --red:#c80000;
    --pink:#ff3385;
}

body,html{
    margin:0;
    background:#050000;
    overflow:hidden;
    font-family:'Dancing Script',cursive;
}

/* Canvas */
canvas{
    position:fixed;
    inset:0;
    z-index:1;
}

/* N√∫t */
#startBtn{
    position:fixed;
    top:50%;left:50%;
    transform:translate(-50%,-50%);
    z-index:10;
    padding:16px 36px;
    font-size:22px;
    border-radius:40px;
    border:none;
    cursor:pointer;
    color:white;
    background:linear-gradient(45deg,#ff0055,#ff99cc);
    box-shadow:0 0 25px #ff0055;
}

#startBtn:hover{
    transform:translate(-50%,-50%) scale(1.1);
}

/* Trung t√¢m */
#center{
    position:fixed;
    top:50%;left:50%;
    transform:translate(-50%,-50%);
    text-align:center;
    z-index:5;
    opacity:0;
    transition:2s;
}

.name{
    font-family:'Great Vibes',cursive;
    font-size:clamp(50px,9vw,110px);
    color:white;
    text-shadow:0 0 20px #ff3385,0 0 40px red;
}

.wish{
    color:#ffd1dc;
    font-size:22px;
}

/* C√¢u ƒë·ªëi */
.couplet{
    position:fixed;
    top:50%;
    transform:translateY(-50%);
    background:var(--red);
    border:3px solid var(--gold);
    padding:20px 10px;
    border-radius:8px;
    opacity:0;
    transition:2s;
}

.left{ left:20px; }
.right{ right:20px; }

.couplet span{
    writing-mode:vertical-rl;
    text-orientation:upright;
    color:var(--gold);
    font-size:26px;
    font-weight:bold;
}
.active{ opacity:1 !important; }
</style>
</head>

<body>

<button id="startBtn">üéÅ M·ªü Qu√† T·∫øt</button>

<canvas id="c"></canvas>

<div id="center">
    <div class="name">Anh Y√™u Em</div>
    <div class="wish">Chinh m√£i b√™n anh nh√© ‚ù§Ô∏è</div>
</div>

<div class="couplet left"><span>Xu√¢nƒê·∫ønB√¨nhAn</span></div>
<div class="couplet right"><span>C√≥EmL√†T·∫øt</span></div>

<script>
const c=document.getElementById("c");
const ctx=c.getContext("2d");
const btn=document.getElementById("startBtn");

let W,H,dpr=window.devicePixelRatio||1;
let hearts=[];
let forming=false;
let pulse=1,t=0;

function resize(){
    W=innerWidth; H=innerHeight;
    c.width=W*dpr;
    c.height=H*dpr;
    c.style.width=W+"px";
    c.style.height=H+"px";
    ctx.scale(dpr,dpr);
}
resize();
addEventListener("resize",resize);

/* H√¨nh tim */
function heart(t){
    return{
        x:16*Math.sin(t)**3,
        y:-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))
    }
}

class P{
    constructor(){
        this.x=Math.random()*W;
        this.y=Math.random()*H;
        this.tx=0; this.ty=0;
        this.s=Math.random()*2+1;
        this.sp=0.03+Math.random()*0.03;
        this.c=`hsl(${340+Math.random()*20},100%,70%)`;
    }
    move(){
        if(forming){
            this.x+=(this.tx-this.x)*this.sp;
            this.y+=(this.ty-this.y)*this.sp;
        }else{
            this.x+=Math.sin(this.y*0.01);
            this.y+=Math.cos(this.x*0.01);
        }
    }
    draw(){
        ctx.fillStyle=this.c;
        ctx.beginPath();
        ctx.arc(this.x,this.y,this.s,0,7);
        ctx.fill();
    }
}

/* T·∫°o h·∫°t */
for(let i=0;i<800;i++) hearts.push(new P());

function setTargets(){
    hearts.forEach(p=>{
        let tt=Math.random()*Math.PI*2;
        let h=heart(tt);
        let scale=Math.min(W,H)/40;
        p.tx=W/2+h.x*scale*pulse;
        p.ty=H/2+h.y*scale*pulse;
    });
}

function loop(){
    ctx.fillStyle="rgba(5,0,0,0.25)";
    ctx.fillRect(0,0,W,H);

    if(forming){
        t+=0.05;
        pulse=1+Math.sin(t)*0.06;
        setTargets();
    }

    hearts.forEach(p=>{
        p.move(); p.draw();
    });

    requestAnimationFrame(loop);
}
loop();

/* Start */
btn.onclick=()=>{
    btn.style.display="none";
    forming=true;

    setTargets();

    setTimeout(()=>{
        document.getElementById("center").classList.add("active");
    },1800);

    setTimeout(()=>{
        document.querySelector(".left").classList.add("active");
        document.querySelector(".right").classList.add("active");
    },2800);
}
</script>

</body>
</html>
