<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>G·ª≠i b√© Chinh üíù</title>

<style>
body{
    margin:0;
    background:radial-gradient(circle,#000010,#000000);
    overflow:hidden;
    font-family:sans-serif;
    text-align:center;
    color:white;
}

/* L·ªùi d·∫´n */
.message{
    position:fixed;
    top:40%;
    width:100%;
    font-size:28px;
    opacity:0;
    transition:1.5s;
}

canvas{
    position:fixed;
    top:0;
    left:0;
}

.loveText{
    position:fixed;
    top:45%;
    width:100%;
    font-size:50px;
    color:pink;
    text-shadow:0 0 25px red;
    opacity:0;
    transition:2s;
}
</style>
</head>

<body>

<div id="msg" class="message"></div>
<div id="love" class="loveText">Anh Y√™u Em ‚ù§Ô∏è</div>

<canvas id="c"></canvas>

<script>
let canvas=document.getElementById("c");
let ctx=canvas.getContext("2d");

function resize(){
    canvas.width=window.innerWidth;
    canvas.height=window.innerHeight;
}
resize();
window.onresize=resize;

/* L·ªùi d·∫´n */
let texts=[
"Chinh √†...",
"T·∫øt ƒë·∫øn r·ªìi...",
"Anh mong nƒÉm m·ªõi n√†y...",
"B√© lu√¥n h·∫°nh ph√∫c...",
"V√† lu√¥n ·ªü b√™n anh..."
];

let msgDiv=document.getElementById("msg");
let i=0;

function showText(){
    if(i>=texts.length){
        msgDiv.style.opacity=0;
        setTimeout(startHearts,1500);
        return;
    }

    msgDiv.innerHTML=texts[i];
    msgDiv.style.opacity=1;

    setTimeout(()=>{
        msgDiv.style.opacity=0;
        i++;
        setTimeout(showText,1000);
    },2000);
}

showText();

/* H·∫°t tim */
let hearts=[];

function heartShape(t){
    return {
        x:16*Math.pow(Math.sin(t),3),
        y:-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))
    };
}

function startHearts(){
    // bay t·ª± do tr∆∞·ªõc
    for(let i=0;i<200;i++){
        hearts.push({
            x:Math.random()*canvas.width,
            y:Math.random()*canvas.height,
            tx:Math.random()*canvas.width,
            ty:Math.random()*canvas.height
        });
    }

    setTimeout(formBigHeart,3000);
}

/* Gh√©p th√†nh tim l·ªõn */
function formBigHeart(){
    hearts=[];
    for(let i=0;i<350;i++){
        let t=Math.random()*Math.PI*2;
        let p=heartShape(t);

        hearts.push({
            x:Math.random()*canvas.width,
            y:Math.random()*canvas.height,
            tx:canvas.width/2+p.x*18,
            ty:canvas.height/2+p.y*18
        });
    }

    setTimeout(()=>{
        document.getElementById("love").style.opacity=1;
    },2500);
}

function draw(){
    ctx.fillStyle="rgba(0,0,0,0.25)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    hearts.forEach(h=>{
        h.x+=(h.tx-h.x)*0.05;
        h.y+=(h.ty-h.y)*0.05;

        ctx.fillStyle="pink";
        ctx.beginPath();
        ctx.arc(h.x,h.y,2,0,Math.PI*2);
        ctx.fill();
    });

    requestAnimationFrame(draw);
}

draw();
</script>

</body>
</html>
